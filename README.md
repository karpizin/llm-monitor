# LLM Monitor (OpenRouter Watchdog) üöÄ

–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏, –∑–∞–¥–µ—Ä–∂–∫–∏ –∏ –∫–∞—á–µ—Å—Ç–≤–∞ –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö LLM-–º–æ–¥–µ–ª–µ–π –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ **OpenRouter**. –°–µ—Ä–≤–∏—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç –Ω–æ–≤—ã–µ –º–æ–¥–µ–ª–∏, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏—Ö —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∏ —É–≤–µ–¥–æ–º–ª—è–µ—Ç –≤–∞—Å –≤ Telegram –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞.

---

## üåü –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîç **Discovery**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö (`:free`) –º–æ–¥–µ–ª–µ–π.
- ‚ö° **Real-time Monitoring**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∏ –∑–∞–º–µ—Ä TTFT (Time To First Token) –∫–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç.
- ü§ñ **Telegram Bot**: 
  - –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∞–ª–µ—Ä—Ç—ã (`/subscribe`).
  - –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø–∞–¥–µ–Ω–∏–∏ (DOWN üî¥) –∏–ª–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ (UP üü¢) –º–æ–¥–µ–ª–µ–π.
  - –ü—Ä–æ—Å–º–æ—Ç—Ä –∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å—Ç–∞—Ç—É—Å–∞ –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π —á–µ—Ä–µ–∑ `/status`.
- üìä **Web Dashboard**: –í–∏–∑—É–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–æ —Å–ø–∏—Å–∫–æ–º –º–æ–¥–µ–ª–µ–π –∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏ –∑–∞–¥–µ—Ä–∂–∫–∏.
- üê≥ **Docker-Native**: –ü–æ–ª–Ω–∞—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.
- üõ† **CI/CD**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è –æ–±—Ä–∞–∑–æ–≤ –≤ GitHub Container Registry (GHCR).

---

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ç—Ä–µ—Ö –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤, —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö —Å –æ–±—â–µ–π –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö SQLite:

1.  **Monitor (Core)**: –í—ã–ø–æ–ª–Ω—è–µ—Ç `discovery_free.py` (—Ä–∞–∑ –≤ —á–∞—Å) –∏ `check_health.py` (–∫–∞–∂–¥—ã–µ 10 –º–∏–Ω).
2.  **Telegram Bot**: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Ä–∞—Å—Å—ã–ª–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ –æ—á–µ—Ä–µ–¥–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.
3.  **Dashboard**: –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ FastAPI –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è.

---

## üì¶ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π **Docker** –∏ **Docker Compose**.
- API-–∫–ª—é—á –æ—Ç [OpenRouter](https://openrouter.ai/).
- –¢–æ–∫–µ–Ω Telegram-–±–æ—Ç–∞ –æ—Ç [@BotFather](https://t.me/botfather).

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:
```bash
OPENROUTER_API_KEY=sk-or-v1-your-key-here
TELEGRAM_BOT_TOKEN=your-bot-token-here
DB_PATH=/data/monitor.db
```

### 3. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose
```bash
# –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
docker-compose up -d --build
```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:
- **Dashboard** –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:8000`
- **Telegram Bot** –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã (–Ω–∞–π–¥–∏—Ç–µ –µ–≥–æ –≤ –ø–æ–∏—Å–∫–µ –ø–æ –∏–º–µ–Ω–∏).

---

## ü§ñ –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

- `/start` ‚Äî –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥.
- `/subscribe` ‚Äî –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–±–æ—è—Ö.
- `/unsubscribe` ‚Äî –û—Ç–ø–∏—Å–∞—Ç—å—Å—è –æ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.
- `/status` ‚Äî –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–π —Å–ø–∏—Å–æ–∫ Online/Offline –º–æ–¥–µ–ª–µ–π —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π.

---

## üõ† –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ CI/CD

### –õ–æ–∫–∞–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞ (–±–µ–∑ Docker)
```bash
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î –∏ –∑–∞–ø—É—Å–∫ —Ü–∏–∫–ª–∞
python3 main_loop.py
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub Actions
–î–ª—è —Ä–∞–±–æ—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–æ–≤ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ **Secrets** –≤ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
1. `OPENROUTER_API_KEY`
2. `TELEGRAM_BOT_TOKEN`

–û–±—Ä–∞–∑—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—É—à–∞—Ç—Å—è –≤: `ghcr.io/karpizin/llm-monitor:latest`

---

## üìä –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (monitor.db)

- **`models`**: –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (ID, –Ω–∞–∑–≤–∞–Ω–∏–µ, –∫–æ–Ω—Ç–µ–∫—Å—Ç, —Ñ–ª–∞–≥ VLM).
- **`checks`**: –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–≤–µ—Ä–æ–∫ (—Å—Ç–∞—Ç—É—Å, –≤—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞, —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏).
- **`subscribers`**: –°–ø–∏—Å–æ–∫ ID —á–∞—Ç–æ–≤ Telegram –¥–ª—è —Ä–∞—Å—Å—ã–ª–∫–∏.
- **`notification_queue`**: –û—á–µ—Ä–µ–¥—å —Å–æ–±—ã—Ç–∏–π (—Å—Ç–∞—Ç—É—Å –∏–∑–º–µ–Ω–∏–ª—Å—è) –¥–ª—è –±–æ—Ç–∞.

---

## üó∫ –ü–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è (Roadmap)

- [x] –ö–æ–º–∞–Ω–¥–∞ `/status` –≤ –±–æ—Ç–µ.
- [x] –í–µ–±-–¥–∞—à–±–æ—Ä–¥.
- [ ] –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –≥—Ä–∞—Ñ–∏–∫–∏ (Latency/Uptime) –Ω–∞ –¥–∞—à–±–æ—Ä–¥–µ.
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –æ—Ç–≤–µ—Ç–∞ (Sanity Check: 2+2=4).
- [ ] **Text-to-Image –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–æ–¥–µ–ª–µ–π —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (Gemini 2.5/3 Pro Image, GPT-5 Image).
- [ ] –û–ø–æ–≤–µ—â–µ–Ω–∏—è –≤ Discord/Slack.
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–æ—Ç–∞—Ü–∏—è —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î.

---
¬© 2026 NEXTTHINGDONE. –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –¥–ª—è –ª–∏—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ open-source —Å–æ–æ–±—â–µ—Å—Ç–≤–∞.